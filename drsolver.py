from z3 import *
solver=Solver()
k = Int("k")
argv = Int("argv")
argc = Int("argc")
i = Int("i")
arr = Int("arr")
DRD_RANDOM_VAR = Int("DRD_RANDOM_VAR")
wr_arr_index_0 = Int("wr_arr_index_0")
i_drdVar_19 = Int("i_drdVar_19")
k_drdVar_19 = Int("k_drdVar_19")
solver.add((k_drdVar_19>=0),(k_drdVar_19<10))
i_drdVar_18 = Int("i_drdVar_18")
i_drdVar_12 = Int("i_drdVar_12")
i_drdVar_11 = Int("i_drdVar_11")
k_drdVar_18 = Int("k_drdVar_18")
solver.add((k_drdVar_18>=0),(k_drdVar_18<10))
k_drdVar_12 = Int("k_drdVar_12")
solver.add((k_drdVar_12>=0),(k_drdVar_12<10))
k_drdVar_11 = Int("k_drdVar_11")
solver.add((k_drdVar_11>=0),(k_drdVar_11<10))
solver.add((i_drdVar_19>=0),(i_drdVar_19<10))
solver.add((i_drdVar_18>=0),(i_drdVar_18<10))
solver.add((i_drdVar_12>=0),(i_drdVar_12<10))
solver.add((i_drdVar_11>=0),(i_drdVar_11<10))
wr_cond_0 = And (wr_arr_index_0 == (i_drdVar_18 + k_drdVar_18 + 2), (i_drdVar_18!=0))
wr_arr_index_1 = Int("wr_arr_index_1")
wr_cond_1 = And (wr_arr_index_1 == (i_drdVar_11 + k_drdVar_11), (i_drdVar_11==0))
waw_cond_0 = And( wr_cond_0, (wr_arr_index_0 == wr_arr_index_1), wr_cond_1)
waws = Or(waw_cond_0)

r_arr_index_0 = Int("r_arr_index_0")
r_cond_0 = And (r_arr_index_0 == (k_drdVar_19), (i_drdVar_18!=0))
r_arr_index_1 = Int("r_arr_index_1")
r_cond_1 = And (r_arr_index_1 == (k_drdVar_12), (i_drdVar_11==0))
raw_cond_0 = And( wr_cond_0, (wr_arr_index_0 == r_arr_index_0), r_cond_0)
raw_cond_1 = And( wr_cond_0, (wr_arr_index_0 == r_arr_index_1), r_cond_1)
raw_cond_2 = And( wr_cond_1, (wr_arr_index_1 == r_arr_index_0), r_cond_0)
raw_cond_3 = And( wr_cond_1, (wr_arr_index_1 == r_arr_index_1), r_cond_1)
raws = Or(raw_cond_3, raw_cond_2, raw_cond_1, raw_cond_0)
solver.add(i_drdVar_19 != i_drdVar_18)
solver.add(i_drdVar_19 != i_drdVar_11)
solver.add(i_drdVar_19 != k_drdVar_18)
solver.add(i_drdVar_19 != k_drdVar_11)
solver.add(k_drdVar_19 != i_drdVar_18)
solver.add(k_drdVar_19 != i_drdVar_11)
solver.add(k_drdVar_19 != k_drdVar_18)
solver.add(k_drdVar_19 != k_drdVar_11)
solver.add(i_drdVar_18 != i_drdVar_12)
solver.add(i_drdVar_18 != i_drdVar_11)
solver.add(i_drdVar_18 != k_drdVar_18)
solver.add(i_drdVar_18 != k_drdVar_12)
solver.add(i_drdVar_18 != k_drdVar_11)
solver.add(i_drdVar_12 != i_drdVar_11)
solver.add(i_drdVar_12 != k_drdVar_18)
solver.add(i_drdVar_12 != k_drdVar_11)
solver.add(i_drdVar_11 != k_drdVar_18)
solver.add(i_drdVar_11 != k_drdVar_12)
solver.add(i_drdVar_11 != k_drdVar_11)
solver.add(k_drdVar_18 != k_drdVar_12)
solver.add(k_drdVar_18 != k_drdVar_11)
solver.add(k_drdVar_12 != k_drdVar_11)
cstrnts = Or(waws,raws)
solver.add(cstrnts)
if solver.check() == z3.sat:
	print("seems like data race(waw/raw/war) exists within the loop!")
else:
	print("seems like no data race exists (please double check)")
