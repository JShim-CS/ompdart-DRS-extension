from z3 import *
solver=Solver()
j = Int("j")
i = Int("i")
c = Int("c")
k = Int("k")
b = Int("b")
a = Int("a")
DRD_RANDOM_VAR = Int("DRD_RANDOM_VAR")
K = Int("K")
solver.add(K == 100)
M = Int("M")
solver.add(M == 100)
N = Int("N")
solver.add(N == 100)
wr_arr_index_0_0 = Int("wr_arr_index_0_0")
wr_arr_index_0_1 = Int("wr_arr_index_0_1")
i_drdVar_13 = Int("i_drdVar_13")
k_drdVar_13 = Int("k_drdVar_13")
j_drdVar_13 = Int("j_drdVar_13")
solver.add((j_drdVar_13>=0),(j_drdVar_13<M))
i_drdVar_12 = Int("i_drdVar_12")
j_drdVar_12 = Int("j_drdVar_12")
solver.add((j_drdVar_12>=0),(j_drdVar_12<M))
i_drdVar_11 = Int("i_drdVar_11")
k_drdVar_12 = Int("k_drdVar_12")
k_drdVar_11 = Int("k_drdVar_11")
j_drdVar_11 = Int("j_drdVar_11")
solver.add((j_drdVar_11>=0),(j_drdVar_11<M))
i_drdVar_10 = Int("i_drdVar_10")
k_drdVar_10 = Int("k_drdVar_10")
j_drdVar_10 = Int("j_drdVar_10")
solver.add((j_drdVar_10>=0),(j_drdVar_10<M))
solver.add((k_drdVar_13>=0),(k_drdVar_13<K))
solver.add((k_drdVar_12>=0),(k_drdVar_12<K))
solver.add((k_drdVar_11>=0),(k_drdVar_11<K))
solver.add((k_drdVar_10>=0),(k_drdVar_10<K))
solver.add((i_drdVar_13>=0),(i_drdVar_13<N))
solver.add((i_drdVar_12>=0),(i_drdVar_12<N))
solver.add((i_drdVar_11>=0),(i_drdVar_11<N))
solver.add((i_drdVar_10>=0),(i_drdVar_10<N))
wr_cond_0_0 = And (wr_arr_index_0_0 == i_drdVar_10, True)
wr_cond_0_1 = And (wr_arr_index_0_1 == j_drdVar_10, True)
waws = False

r_arr_index_0_0 = Int("r_arr_index_0_0")
r_arr_index_0_1 = Int("r_arr_index_0_1")
r_cond_0_0 = And (r_arr_index_0_0 == k_drdVar_13, True)
r_cond_0_1 = And (r_arr_index_0_1 == j_drdVar_13, True)
r_arr_index_1_0 = Int("r_arr_index_1_0")
r_arr_index_1_1 = Int("r_arr_index_1_1")
r_cond_1_0 = And (r_arr_index_1_0 == i_drdVar_12, True)
r_cond_1_1 = And (r_arr_index_1_1 == k_drdVar_12, True)
r_arr_index_2_0 = Int("r_arr_index_2_0")
r_arr_index_2_1 = Int("r_arr_index_2_1")
r_cond_2_0 = And (r_arr_index_2_0 == i_drdVar_11, True)
r_cond_2_1 = And (r_arr_index_2_1 == j_drdVar_11, True)
raw_cond_0= And( wr_cond_0_0, r_cond_2_0,wr_cond_0_1, r_cond_2_1,
(wr_arr_index_0_0 == r_arr_index_2_0), (wr_arr_index_0_1 == r_arr_index_2_1))
raws = Or(raw_cond_0)
finalCond0 = And(i_drdVar_13 != i_drdVar_10, True)
finalCond1 = And(i_drdVar_12 != i_drdVar_10, True)
finalCond2 = And(i_drdVar_11 != i_drdVar_10, True)
myfinalcond = Or(finalCond0
, finalCond1
, finalCond2
, False)
finalWawsCond = And(waws, myfinalcond)
finalRawsCond = And(raws, myfinalcond)
cstrnts = Or(finalWawsCond,finalRawsCond)
solver.add(cstrnts)
if solver.check() == z3.sat:
	print("seems like data race(waw/raw/war) exists within the loop!")
else:
	print("seems like no data race exists (please double check)")
