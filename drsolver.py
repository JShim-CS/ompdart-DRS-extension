from z3 import *
solver=Solver()
argv = Int("argv")
argc = Int("argc")
j = Int("j")
i = Int("i")
arr = Int("arr")
size = Int("size")
DRD_RANDOM_VAR = Int("DRD_RANDOM_VAR")
N = Int("N")
solver.add(N == 100)
wr_arr_index_0 = Int("wr_arr_index_0")
i_drdVar_19 = Int("i_drdVar_19")
j_drdVar_19 = Int("j_drdVar_19")
solver.add((j_drdVar_19>=0),(j_drdVar_19<size))
i_drdVar_18 = Int("i_drdVar_18")
j_drdVar_18 = Int("j_drdVar_18")
solver.add((j_drdVar_18>=0),(j_drdVar_18<size))
solver.add((i_drdVar_19>=0),(i_drdVar_19<size-1))
solver.add((i_drdVar_18>=0),(i_drdVar_18<size-1))
wr_cond_0 = And (wr_arr_index_0 == (i_drdVar_18), (And(j_drdVar_18!=i_drdVar_18,i_drdVar_18<=10)))
waws = False

r_arr_index_0 = Int("r_arr_index_0")
r_cond_0 = And (r_arr_index_0 == (i_drdVar_19 + 1), (And(j_drdVar_18!=i_drdVar_18,i_drdVar_18<=10)))
raw_cond_0 = And( wr_cond_0, (wr_arr_index_0 == r_arr_index_0), r_cond_0)
raws = Or(raw_cond_0)
solver.add(i_drdVar_19 != j_drdVar_19)
solver.add(i_drdVar_19 != i_drdVar_18)
solver.add(i_drdVar_19 != j_drdVar_18)
solver.add(j_drdVar_19 != i_drdVar_18)
solver.add(j_drdVar_19 != j_drdVar_18)
solver.add(i_drdVar_18 != j_drdVar_18)
cstrnts = Or(waws,raws)
solver.add(cstrnts)
if solver.check() == z3.sat:
	print("seems like data race(waw/raw/war) exists within the loop!")
else:
	print("seems like no data race exists (please double check)")
